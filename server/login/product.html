<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="../css/product.css">
	</head>
	<body>

		<!-- header -->
		<header>
			<div class="container">
				<div>鲜花速递网,鲜花预定,本地送花品牌鲜花店！全国送花热线：010-60777792/18511870338
					<span class="login">
						<p class="box">
							<a href="login.html">登录</a>
							<a href="register.html">注册</a>
							<a href="##" class="goCar">购物车</a>
						</p>
						<span class="sc">心意商城</span>
					</span>
				</div>
			</div>
		</header>



		<!-- logo+search -->
		<div class="search">
			<div class="container">
				<div class="logo">
					<img src="../images/logo.png" alt="">
				</div>
				<p>鲜花1-3小时全国快速送达!(非节日)</p>
			</div>

			<form action="">
				<input type="text">
				<input type="submit" value="搜索">
			</form>
			<div class="ma">
				<img src="../images/header-ad.jpg" alt="">
			</div>
		</div>


		<!-- nav -->
		<nav>
			<div class="container">
				<div>所有种类</div>
				<ul>
					<li><a href="index.html">首页</a></li>
					<li><a href="">所有鲜花</a></li>
					<li><a href="">红玫瑰</a></li>
					<li><a href="">生日鲜花</a></li>
					<li><a href="">绿植花卉</a></li>
					<li><a href="">仙人掌</a></li>
				</ul>
			</div>
		</nav>


		<!-- main -->
		<main>
			<div class="container">
				<div class="top">
					<a href="index.html">鲜花速递</a>>
					<a href="search.html">送鲜花</a>>
					<span></span>
				</div>
				<div class="mid">
					
					<img class="b" src="" alt="">
					<!-- <span></span>
					<div class="fd"></div>
					<span></span> -->
					<!-- n个小花 -->
					<div class="sb">
						<button><<</button>
						<img src="" alt="" style>
						<img src="" alt="" style>
						<img src="" alt="" style>
						<button>>></button>
						
					</div>
					<div class="right">
						<span>
							<!-- 名字 -->
						</span>
						<span>
							
							<!-- 编号 -->
						</span>
						<p>
							<span>订花价格:</span>
							<span>市场价格:</span>
						</p>
						<img src="../images/product.PNG" alt="">
						<button>立即购买</button>
						<button class = "r">加入购物车</button>
					</div>
				</div>
			
				
			</div>
		</main>
		
		<span style="position: absolute;display: none;width:80px;height:80px;background: rgba(200,200,200,.3);"></span>
		<span style="position: absolute;display: none;width:160px;height:160px;background: rgba(200,200,200,.3);"></span>
		
	</body>
	<script src = "../js/cookie.js"></script>
	<script>
		class Pro{
			constructor() {
			    this.mid = document.querySelector(".mid");
			    this.right = document.querySelector(".right");
			    this.p = document.querySelector(".right p");
			    this.sb = document.querySelector(" .sb");
			    this.b = document.querySelector(" .b");
			    this.sSpan = document.querySelector("main").nextElementSibling;
				
				this.addEvent();
				
				this.init();
			}
			init(){
				this.mid.children[0].src = JSON.parse(getCookie("product")).img;
				this.sb.children[3].src = JSON.parse(getCookie("product")).img;
				this.sb.children[1].src = JSON.parse(getCookie("product")).img;
				this.sb.children[2].src = JSON.parse(getCookie("product")).img;
				this.right.children[0].innerHTML = JSON.parse(getCookie("product")).name;
				this.p.children[0].innerHTML += JSON.parse(getCookie("product")).price;
				this.p.children[1].innerHTML += JSON.parse(getCookie("product")).price + 200;
			}
			addEvent(){
				var that = this;
				this.b.onmouseover = function(e){
				    that.show(e);
				}
				this.b.onmouseout = function(){
				    // that.hide()
				}
				this.b.onmousemove = function(eve){
				    var e = eve || window.event;
				    // that.move(e)
				}
			}
			show(e){
				this.sSpan.style.display = "block";
				this.sSpan.style.top = e.offsetY + e.offsetTop - 40 + "px";
				this.sSpan.style.left = e.offsetX + e.offsetLeft - 40 + "px";
				// this.sSpan.style.height = this.bBox.offsetHeight / this.bImg.offsetHeight * this.sBox.offsetHeight + "px";
			}
			hide(){
				this.sSpan.style.display = "none";
				this.bBox.style.display = "none";
			}
			move(e){
				var l = e.clientX - this.sBox.offsetLeft - this.sSpan.offsetWidth/2;
				var t = e.clientY - this.sBox.offsetTop - this.sSpan.offsetHeight/2;
				if(l<0) l=0;
				if(t<0) t=0;
				if(l > this.sBox.offsetWidth - this.sSpan.offsetWidth){
				    l = this.sBox.offsetWidth - this.sSpan.offsetWidth
				}
				if(t > this.sBox.offsetHeight - this.sSpan.offsetHeight){
				    t = this.sBox.offsetHeight - this.sSpan.offsetHeight
				}
				
				this.sSpan.style.left = l + "px";
				this.sSpan.style.top = t + "px";
				var x = l / (this.sBox.offsetWidth - this.sSpan.offsetWidth);
				var y = t / (this.sBox.offsetHeight - this.sSpan.offsetHeight);
				
				this.bImg.style.left = x * (this.bBox.offsetWidth - this.bImg.offsetWidth) + "px";
				this.bImg.style.top = y * (this.bBox.offsetHeight - this.bImg.offsetHeight) + "px";
			}
		}
		new Pro;
	</script>
</html>
